{"version":3,"sources":["../src/styles/tokens.ts","../src/styles/default-theme.ts","../src/provider.tsx","../src/hooks/use-notifica.ts","../src/hooks/use-unread-count.ts","../src/components/popover.tsx","../src/hooks/use-notifications.ts","../src/components/notification-item.tsx","../src/components/notification-list.tsx","../src/components/inbox.tsx","../src/components/bell.tsx"],"names":["useRef","useEffect","useCallback","useState","jsx","useMemo","jsxs"],"mappings":"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","file":"index.js","sourcesContent":["import type { NotificaThemeTokens } from '../types';\n\n/**\n * CSS custom property prefix: --ntf-*\n *\n * Consumers override tokens via CSS:\n *   :root { --ntf-color-primary: #7c3aed; }\n *\n * Or via the <NotificaProvider> style override (injected inline).\n */\n\nexport const lightTokens: NotificaThemeTokens = {\n  // Colors\n  '--ntf-color-bg': '#ffffff',\n  '--ntf-color-bg-hover': '#f9fafb',\n  '--ntf-color-bg-unread': '#f0f7ff',\n  '--ntf-color-text': '#111827',\n  '--ntf-color-text-secondary': '#374151',\n  '--ntf-color-text-muted': '#9ca3af',\n  '--ntf-color-primary': '#2563eb',\n  '--ntf-color-primary-hover': '#1d4ed8',\n  '--ntf-color-border': '#e5e7eb',\n  '--ntf-color-badge-bg': '#ef4444',\n  '--ntf-color-badge-text': '#ffffff',\n  '--ntf-color-dot': '#2563eb',\n  '--ntf-color-skeleton': '#e5e7eb',\n  '--ntf-color-skeleton-shine': '#f3f4f6',\n  '--ntf-color-shadow': 'rgba(0, 0, 0, 0.1)',\n\n  // Typography\n  '--ntf-font-family':\n    \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\",\n  '--ntf-font-size-sm': '0.75rem',\n  '--ntf-font-size-base': '0.875rem',\n  '--ntf-font-size-lg': '1rem',\n  '--ntf-font-weight-normal': '400',\n  '--ntf-font-weight-medium': '500',\n  '--ntf-font-weight-semibold': '600',\n\n  // Spacing\n  '--ntf-space-xs': '0.25rem',\n  '--ntf-space-sm': '0.5rem',\n  '--ntf-space-md': '0.75rem',\n  '--ntf-space-lg': '1rem',\n  '--ntf-space-xl': '1.5rem',\n\n  // Borders\n  '--ntf-radius-sm': '0.25rem',\n  '--ntf-radius-md': '0.5rem',\n  '--ntf-radius-lg': '0.75rem',\n  '--ntf-radius-full': '9999px',\n\n  // Sizes\n  '--ntf-inbox-width': '380px',\n  '--ntf-bell-size': '2.5rem',\n  '--ntf-badge-size': '1.25rem',\n  '--ntf-dot-size': '0.5rem',\n};\n\nexport const darkTokens: NotificaThemeTokens = {\n  ...lightTokens,\n\n  // Override colors for dark mode\n  '--ntf-color-bg': '#1f2937',\n  '--ntf-color-bg-hover': '#374151',\n  '--ntf-color-bg-unread': '#1e3a5f',\n  '--ntf-color-text': '#f9fafb',\n  '--ntf-color-text-secondary': '#d1d5db',\n  '--ntf-color-text-muted': '#6b7280',\n  '--ntf-color-primary': '#3b82f6',\n  '--ntf-color-primary-hover': '#60a5fa',\n  '--ntf-color-border': '#374151',\n  '--ntf-color-skeleton': '#374151',\n  '--ntf-color-skeleton-shine': '#4b5563',\n  '--ntf-color-shadow': 'rgba(0, 0, 0, 0.3)',\n};\n\n/**\n * Injects theme tokens as CSS custom properties on a style element.\n * Returns a CSS string suitable for a <style> tag.\n */\nexport function tokensToCSS(\n  tokens: NotificaThemeTokens,\n  selector: string = ':host, [data-notifica]'\n): string {\n  const entries = Object.entries(tokens)\n    .map(([key, value]) => `  ${key}: ${value};`)\n    .join('\\n');\n  return `${selector} {\\n${entries}\\n}`;\n}\n","/**\n * Default inline styles for components.\n *\n * All styles reference CSS custom properties (--ntf-*) so consumers can\n * override them with a single CSS rule. No runtime CSS-in-JS library.\n */\n\nexport const styles = {\n  // ── Inbox ──────────────────────────────────────────\n  inbox: {\n    fontFamily: 'var(--ntf-font-family)',\n    fontSize: 'var(--ntf-font-size-base)',\n    color: 'var(--ntf-color-text)',\n    backgroundColor: 'var(--ntf-color-bg)',\n    borderRadius: 'var(--ntf-radius-lg)',\n    border: '1px solid var(--ntf-color-border)',\n    overflow: 'hidden',\n    width: '100%',\n  } as React.CSSProperties,\n\n  inboxHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    padding: 'var(--ntf-space-md) var(--ntf-space-lg)',\n    borderBottom: '1px solid var(--ntf-color-border)',\n  } as React.CSSProperties,\n\n  inboxTitle: {\n    fontSize: 'var(--ntf-font-size-lg)',\n    fontWeight: 'var(--ntf-font-weight-semibold)',\n    margin: 0,\n  } as React.CSSProperties,\n\n  markAllButton: {\n    background: 'none',\n    border: 'none',\n    color: 'var(--ntf-color-primary)',\n    fontSize: 'var(--ntf-font-size-sm)',\n    fontWeight: 'var(--ntf-font-weight-medium)',\n    cursor: 'pointer',\n    padding: 'var(--ntf-space-xs) var(--ntf-space-sm)',\n    borderRadius: 'var(--ntf-radius-sm)',\n    transition: 'color 0.15s ease',\n    fontFamily: 'inherit',\n  } as React.CSSProperties,\n\n  // ── List ───────────────────────────────────────────\n  list: {\n    listStyle: 'none',\n    margin: 0,\n    padding: 0,\n    overflowY: 'auto',\n  } as React.CSSProperties,\n\n  loadMoreWrapper: {\n    padding: 'var(--ntf-space-md)',\n    textAlign: 'center' as const,\n  } as React.CSSProperties,\n\n  loadMoreButton: {\n    background: 'none',\n    border: '1px solid var(--ntf-color-border)',\n    color: 'var(--ntf-color-text-secondary)',\n    fontSize: 'var(--ntf-font-size-sm)',\n    fontWeight: 'var(--ntf-font-weight-medium)',\n    cursor: 'pointer',\n    padding: 'var(--ntf-space-sm) var(--ntf-space-lg)',\n    borderRadius: 'var(--ntf-radius-md)',\n    width: '100%',\n    transition: 'background-color 0.15s ease',\n    fontFamily: 'inherit',\n  } as React.CSSProperties,\n\n  // ── Item ───────────────────────────────────────────\n  item: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    gap: 'var(--ntf-space-md)',\n    padding: 'var(--ntf-space-md) var(--ntf-space-lg)',\n    cursor: 'pointer',\n    borderBottom: '1px solid var(--ntf-color-border)',\n    transition: 'background-color 0.15s ease',\n    textDecoration: 'none',\n    color: 'inherit',\n    position: 'relative' as const,\n  } as React.CSSProperties,\n\n  itemUnread: {\n    backgroundColor: 'var(--ntf-color-bg-unread)',\n  } as React.CSSProperties,\n\n  itemDot: {\n    width: 'var(--ntf-dot-size)',\n    height: 'var(--ntf-dot-size)',\n    borderRadius: 'var(--ntf-radius-full)',\n    backgroundColor: 'var(--ntf-color-dot)',\n    flexShrink: 0,\n    marginTop: '0.4rem',\n  } as React.CSSProperties,\n\n  itemDotPlaceholder: {\n    width: 'var(--ntf-dot-size)',\n    height: 'var(--ntf-dot-size)',\n    flexShrink: 0,\n    marginTop: '0.4rem',\n  } as React.CSSProperties,\n\n  itemContent: {\n    flex: 1,\n    minWidth: 0,\n  } as React.CSSProperties,\n\n  itemTitle: {\n    fontSize: 'var(--ntf-font-size-base)',\n    fontWeight: 'var(--ntf-font-weight-medium)',\n    margin: 0,\n    lineHeight: 1.4,\n    wordBreak: 'break-word' as const,\n  } as React.CSSProperties,\n\n  itemTitleUnread: {\n    fontWeight: 'var(--ntf-font-weight-semibold)',\n  } as React.CSSProperties,\n\n  itemBody: {\n    fontSize: 'var(--ntf-font-size-sm)',\n    color: 'var(--ntf-color-text-secondary)',\n    margin: 'var(--ntf-space-xs) 0 0 0',\n    lineHeight: 1.4,\n    wordBreak: 'break-word' as const,\n    display: '-webkit-box',\n    WebkitLineClamp: 2,\n    WebkitBoxOrient: 'vertical' as const,\n    overflow: 'hidden',\n  } as React.CSSProperties,\n\n  itemTime: {\n    fontSize: 'var(--ntf-font-size-sm)',\n    color: 'var(--ntf-color-text-muted)',\n    marginTop: 'var(--ntf-space-xs)',\n    whiteSpace: 'nowrap' as const,\n  } as React.CSSProperties,\n\n  // ── Empty state ────────────────────────────────────\n  empty: {\n    display: 'flex',\n    flexDirection: 'column' as const,\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: 'var(--ntf-space-xl) var(--ntf-space-lg)',\n    textAlign: 'center' as const,\n    minHeight: '200px',\n  } as React.CSSProperties,\n\n  emptyIcon: {\n    width: '48px',\n    height: '48px',\n    color: 'var(--ntf-color-text-muted)',\n    marginBottom: 'var(--ntf-space-md)',\n    opacity: 0.5,\n  } as React.CSSProperties,\n\n  emptyTitle: {\n    fontSize: 'var(--ntf-font-size-base)',\n    fontWeight: 'var(--ntf-font-weight-medium)',\n    color: 'var(--ntf-color-text)',\n    margin: '0 0 var(--ntf-space-xs) 0',\n  } as React.CSSProperties,\n\n  emptyDescription: {\n    fontSize: 'var(--ntf-font-size-sm)',\n    color: 'var(--ntf-color-text-muted)',\n    margin: 0,\n  } as React.CSSProperties,\n\n  // ── Skeleton ───────────────────────────────────────\n  skeleton: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    gap: 'var(--ntf-space-md)',\n    padding: 'var(--ntf-space-md) var(--ntf-space-lg)',\n    borderBottom: '1px solid var(--ntf-color-border)',\n  } as React.CSSProperties,\n\n  skeletonDot: {\n    width: 'var(--ntf-dot-size)',\n    height: 'var(--ntf-dot-size)',\n    borderRadius: 'var(--ntf-radius-full)',\n    backgroundColor: 'var(--ntf-color-skeleton)',\n    flexShrink: 0,\n    marginTop: '0.4rem',\n  } as React.CSSProperties,\n\n  skeletonContent: {\n    flex: 1,\n  } as React.CSSProperties,\n\n  skeletonLine: (width: string): React.CSSProperties => ({\n    height: '0.75rem',\n    borderRadius: 'var(--ntf-radius-sm)',\n    backgroundColor: 'var(--ntf-color-skeleton)',\n    marginBottom: 'var(--ntf-space-xs)',\n    width,\n    animation: 'ntf-skeleton-pulse 1.5s ease-in-out infinite',\n  }),\n\n  // ── Bell ───────────────────────────────────────────\n  bellButton: {\n    position: 'relative' as const,\n    display: 'inline-flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 'var(--ntf-bell-size)',\n    height: 'var(--ntf-bell-size)',\n    padding: 0,\n    border: 'none',\n    background: 'none',\n    cursor: 'pointer',\n    color: 'var(--ntf-color-text)',\n    borderRadius: 'var(--ntf-radius-md)',\n    transition: 'background-color 0.15s ease',\n  } as React.CSSProperties,\n\n  bellIcon: {\n    width: '24px',\n    height: '24px',\n  } as React.CSSProperties,\n\n  badge: {\n    position: 'absolute' as const,\n    top: '0',\n    right: '0',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    minWidth: 'var(--ntf-badge-size)',\n    height: 'var(--ntf-badge-size)',\n    padding: '0 0.3rem',\n    borderRadius: 'var(--ntf-radius-full)',\n    backgroundColor: 'var(--ntf-color-badge-bg)',\n    color: 'var(--ntf-color-badge-text)',\n    fontSize: '0.625rem',\n    fontWeight: 'var(--ntf-font-weight-semibold)',\n    lineHeight: 1,\n    fontFamily: 'var(--ntf-font-family)',\n    pointerEvents: 'none' as const,\n  } as React.CSSProperties,\n\n  // ── Popover ────────────────────────────────────────\n  popoverOverlay: {\n    position: 'fixed' as const,\n    inset: 0,\n    zIndex: 9998,\n  } as React.CSSProperties,\n\n  popover: {\n    position: 'absolute' as const,\n    zIndex: 9999,\n    width: 'var(--ntf-inbox-width)',\n    maxWidth: 'calc(100vw - 1rem)',\n    boxShadow: '0 10px 25px var(--ntf-color-shadow), 0 4px 10px var(--ntf-color-shadow)',\n    borderRadius: 'var(--ntf-radius-lg)',\n    overflow: 'hidden',\n    animation: 'ntf-popover-enter 0.15s ease-out',\n  } as React.CSSProperties,\n\n  // ── Keyframes (injected once) ──────────────────────\n  keyframes: `\n@keyframes ntf-skeleton-pulse {\n  0%, 100% { opacity: 1; }\n  50% { opacity: 0.5; }\n}\n@keyframes ntf-popover-enter {\n  from { opacity: 0; transform: translateY(-4px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n  `.trim(),\n} as const;\n","import { createContext, useCallback, useEffect, useMemo, useRef } from 'react';\nimport type {\n  NotificaContextValue,\n  NotificaLabels,\n  NotificaLocale,\n  NotificaProviderProps,\n} from './types';\nimport { lightTokens, tokensToCSS } from './styles/tokens';\nimport { styles } from './styles/default-theme';\n\n// ── i18n ─────────────────────────────────────────────\n\nconst LABELS_PT_BR: NotificaLabels = {\n  notifications: 'Notificações',\n  markAllAsRead: 'Marcar todas como lidas',\n  loadMore: 'Carregar mais',\n  emptyTitle: 'Nenhuma notificação',\n  emptyDescription: 'Quando você receber notificações, elas aparecerão aqui.',\n  justNow: 'agora',\n  minutesAgo: (n: number) => `há ${n} min`,\n  hoursAgo: (n: number) => (n === 1 ? 'há 1 hora' : `há ${n} horas`),\n  yesterday: 'ontem',\n  daysAgo: (n: number) => `há ${n} dias`,\n};\n\nconst LABELS_EN: NotificaLabels = {\n  notifications: 'Notifications',\n  markAllAsRead: 'Mark all as read',\n  loadMore: 'Load more',\n  emptyTitle: 'No notifications',\n  emptyDescription: \"When you receive notifications, they'll appear here.\",\n  justNow: 'just now',\n  minutesAgo: (n: number) => `${n}m ago`,\n  hoursAgo: (n: number) => (n === 1 ? '1h ago' : `${n}h ago`),\n  yesterday: 'yesterday',\n  daysAgo: (n: number) => `${n}d ago`,\n};\n\nconst LOCALE_MAP: Record<NotificaLocale, NotificaLabels> = {\n  'pt-BR': LABELS_PT_BR,\n  en: LABELS_EN,\n};\n\n// ── Context ──────────────────────────────────────────\n\nexport const NotificaContext = createContext<NotificaContextValue | null>(null);\n\n// ── Provider ─────────────────────────────────────────\n\nconst DEFAULT_API_URL = 'https://api.usenotifica.com.br';\nconst DEFAULT_POLLING_INTERVAL = 30_000;\nconst DEFAULT_LOCALE: NotificaLocale = 'pt-BR';\n\nexport function NotificaProvider({\n  apiKey,\n  subscriberId,\n  apiUrl = DEFAULT_API_URL,\n  pollingInterval = DEFAULT_POLLING_INTERVAL,\n  locale = DEFAULT_LOCALE,\n  labels: labelOverrides,\n  children,\n}: NotificaProviderProps): React.JSX.Element {\n  const styleInjectedRef = useRef(false);\n\n  // Inject CSS custom properties and keyframes once\n  useEffect(() => {\n    if (styleInjectedRef.current) return;\n    // SSR guard\n    if (typeof document === 'undefined') return;\n\n    const existing = document.getElementById('notifica-styles');\n    if (existing) {\n      styleInjectedRef.current = true;\n      return;\n    }\n\n    const style = document.createElement('style');\n    style.id = 'notifica-styles';\n    style.textContent = `${tokensToCSS(lightTokens)}\\n${styles.keyframes}`;\n    document.head.appendChild(style);\n    styleInjectedRef.current = true;\n  }, []);\n\n  const config = useMemo(\n    () => ({\n      apiKey,\n      subscriberId,\n      apiUrl: apiUrl.replace(/\\/+$/, ''),\n      pollingInterval,\n      locale,\n    }),\n    [apiKey, subscriberId, apiUrl, pollingInterval, locale]\n  );\n\n  const labels = useMemo<NotificaLabels>(() => {\n    const base = LOCALE_MAP[locale] ?? LABELS_PT_BR;\n    if (!labelOverrides) return base;\n    return { ...base, ...labelOverrides };\n  }, [locale, labelOverrides]);\n\n  const apiFetch = useCallback(\n    async <T = unknown>(path: string, options: RequestInit = {}): Promise<T> => {\n      const url = `${config.apiUrl}${path}`;\n      const headers = new Headers(options.headers);\n      headers.set('Authorization', `Bearer ${config.apiKey}`);\n      headers.set('Content-Type', 'application/json');\n\n      const res = await fetch(url, { ...options, headers });\n\n      if (!res.ok) {\n        const errorBody = await res.text().catch(() => '');\n        throw new Error(\n          `Notifica API error: ${res.status} ${res.statusText}${errorBody ? ` — ${errorBody}` : ''}`\n        );\n      }\n\n      return res.json() as Promise<T>;\n    },\n    [config.apiUrl, config.apiKey]\n  );\n\n  const contextValue = useMemo<NotificaContextValue>(\n    () => ({ config, labels, apiFetch }),\n    [config, labels, apiFetch]\n  );\n\n  return (\n    <NotificaContext.Provider value={contextValue}>\n      <div data-notifica=\"\" data-notifica-locale={locale}>\n        {children}\n      </div>\n    </NotificaContext.Provider>\n  );\n}\n","import { useContext } from 'react';\nimport { NotificaContext } from '../provider';\nimport type { NotificaContextValue } from '../types';\n\n/**\n * Access the Notifica context (config, labels, apiFetch).\n *\n * Must be used inside a <NotificaProvider>.\n *\n * @example\n * ```tsx\n * const { apiFetch, labels } = useNotifica();\n * ```\n */\nexport function useNotifica(): NotificaContextValue {\n  const ctx = useContext(NotificaContext);\n  if (!ctx) {\n    throw new Error(\n      '[Notifica] useNotifica() must be used inside a <NotificaProvider>. ' +\n        'Wrap your app or component tree with <NotificaProvider apiKey=\"...\" subscriberId=\"...\">.'\n    );\n  }\n  return ctx;\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useNotifica } from './use-notifica';\nimport type { NotificaUnreadCountResponse, UseUnreadCountReturn } from '../types';\n\n/**\n * Fetch and poll the unread notification count.\n *\n * @example\n * ```tsx\n * const { count, isLoading } = useUnreadCount();\n * return <span>Unread: {count}</span>;\n * ```\n */\nexport function useUnreadCount(): UseUnreadCountReturn {\n  const { config, apiFetch } = useNotifica();\n  const { subscriberId, pollingInterval } = config;\n\n  const [count, setCount] = useState(0);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  const mountedRef = useRef(true);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  const basePath = `/v1/subscribers/${encodeURIComponent(subscriberId)}/notifications/unread-count`;\n\n  const fetchCount = useCallback(async () => {\n    try {\n      const res = await apiFetch<NotificaUnreadCountResponse>(basePath);\n      if (!mountedRef.current) return;\n      setCount(res.data.count);\n      setError(null);\n    } catch (err) {\n      if (!mountedRef.current) return;\n      setError(err instanceof Error ? err : new Error(String(err)));\n    }\n  }, [apiFetch, basePath]);\n\n  // Initial fetch\n  useEffect(() => {\n    setIsLoading(true);\n    fetchCount().finally(() => {\n      if (mountedRef.current) setIsLoading(false);\n    });\n  }, [fetchCount]);\n\n  // Polling\n  useEffect(() => {\n    if (pollingInterval <= 0) return;\n\n    const interval = setInterval(fetchCount, pollingInterval);\n    return () => clearInterval(interval);\n  }, [fetchCount, pollingInterval]);\n\n  const refresh = useCallback(async () => {\n    await fetchCount();\n  }, [fetchCount]);\n\n  return { count, isLoading, error, refresh };\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport type { PopoverProps } from '../types';\nimport { styles } from '../styles/default-theme';\n\n/**\n * Lightweight, accessible popover positioned relative to an anchor element.\n *\n * - Closes on Escape, click outside, or focus leaving the popover\n * - Traps focus within while open\n * - SSR safe (no window access during render)\n */\nexport function Popover({\n  isOpen,\n  onClose,\n  anchorRef,\n  position,\n  children,\n}: PopoverProps): React.JSX.Element | null {\n  const popoverRef = useRef<HTMLDivElement>(null);\n  const [posStyle, setPosStyle] = useState<React.CSSProperties>({});\n\n  // Calculate position relative to anchor\n  useEffect(() => {\n    if (!isOpen || !anchorRef.current) return;\n\n    // SSR guard\n    if (typeof window === 'undefined') return;\n\n    const updatePosition = () => {\n      const anchor = anchorRef.current;\n      if (!anchor) return;\n\n      const rect = anchor.getBoundingClientRect();\n      const scrollX = window.scrollX;\n      const scrollY = window.scrollY;\n\n      const top = rect.bottom + scrollY + 8;\n      let left: number;\n\n      switch (position) {\n        case 'bottom-left':\n          left = rect.left + scrollX;\n          break;\n        case 'bottom-center':\n          left = rect.left + scrollX + rect.width / 2;\n          break;\n        case 'bottom-right':\n        default:\n          left = rect.right + scrollX;\n          break;\n      }\n\n      const transform =\n        position === 'bottom-center'\n          ? 'translateX(-50%)'\n          : position === 'bottom-right'\n            ? 'translateX(-100%)'\n            : 'none';\n\n      setPosStyle({\n        top: `${top}px`,\n        left: `${left}px`,\n        transform,\n      });\n    };\n\n    updatePosition();\n\n    window.addEventListener('resize', updatePosition);\n    window.addEventListener('scroll', updatePosition, true);\n\n    return () => {\n      window.removeEventListener('resize', updatePosition);\n      window.removeEventListener('scroll', updatePosition, true);\n    };\n  }, [isOpen, anchorRef, position]);\n\n  // Close on Escape\n  const handleKeyDown = useCallback(\n    (e: KeyboardEvent) => {\n      if (e.key === 'Escape') {\n        onClose();\n        // Return focus to anchor\n        anchorRef.current?.focus();\n      }\n    },\n    [onClose, anchorRef]\n  );\n\n  useEffect(() => {\n    if (!isOpen) return;\n    if (typeof document === 'undefined') return;\n\n    document.addEventListener('keydown', handleKeyDown);\n    return () => document.removeEventListener('keydown', handleKeyDown);\n  }, [isOpen, handleKeyDown]);\n\n  // Focus management: focus first focusable child when opened\n  useEffect(() => {\n    if (!isOpen || !popoverRef.current) return;\n\n    const firstFocusable = popoverRef.current.querySelector<HTMLElement>(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n    firstFocusable?.focus();\n  }, [isOpen]);\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Invisible overlay to catch outside clicks */}\n      <div\n        style={styles.popoverOverlay}\n        onClick={onClose}\n        aria-hidden=\"true\"\n        data-notifica-popover-overlay=\"\"\n      />\n\n      {/* Popover container */}\n      <div\n        ref={popoverRef}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-label=\"Notificações\"\n        style={{ ...styles.popover, ...posStyle }}\n        data-notifica-popover=\"\"\n      >\n        {children}\n      </div>\n    </>\n  );\n}\n","import { useCallback, useEffect, useRef, useState } from 'react';\nimport { useNotifica } from './use-notifica';\nimport type {\n  NotificaListResponse,\n  NotificaMarkAllReadResponse,\n  NotificaNotification,\n  UseNotificationsReturn,\n} from '../types';\n\n/**\n * Fetch, poll, and manage in-app notifications.\n *\n * @param pageSize — notifications per page (default 20)\n *\n * @example\n * ```tsx\n * const { notifications, markAsRead, markAllAsRead, loadMore, hasMore } = useNotifications();\n * ```\n */\nexport function useNotifications(pageSize: number = 20): UseNotificationsReturn {\n  const { config, apiFetch } = useNotifica();\n  const { subscriberId, pollingInterval } = config;\n\n  const [notifications, setNotifications] = useState<NotificaNotification[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [isLoadingMore, setIsLoadingMore] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n  const [hasMore, setHasMore] = useState(true);\n\n  const offsetRef = useRef(0);\n  const mountedRef = useRef(true);\n\n  useEffect(() => {\n    mountedRef.current = true;\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  const basePath = `/v1/subscribers/${encodeURIComponent(subscriberId)}/notifications`;\n\n  const fetchNotifications = useCallback(\n    async (offset: number = 0, append: boolean = false) => {\n      try {\n        const params = new URLSearchParams({\n          limit: String(pageSize),\n          offset: String(offset),\n        });\n\n        const res = await apiFetch<NotificaListResponse>(`${basePath}?${params.toString()}`);\n\n        if (!mountedRef.current) return;\n\n        const newItems = res.data;\n        setHasMore(newItems.length >= pageSize);\n\n        if (append) {\n          setNotifications((prev) => {\n            const existingIds = new Set(prev.map((n) => n.id));\n            const unique = newItems.filter((n) => !existingIds.has(n.id));\n            return [...prev, ...unique];\n          });\n        } else {\n          setNotifications(newItems);\n        }\n\n        offsetRef.current = offset + newItems.length;\n        setError(null);\n      } catch (err) {\n        if (!mountedRef.current) return;\n        setError(err instanceof Error ? err : new Error(String(err)));\n      }\n    },\n    [apiFetch, basePath, pageSize]\n  );\n\n  // Initial fetch\n  useEffect(() => {\n    setIsLoading(true);\n    offsetRef.current = 0;\n    fetchNotifications(0, false).finally(() => {\n      if (mountedRef.current) setIsLoading(false);\n    });\n  }, [fetchNotifications]);\n\n  // Polling\n  useEffect(() => {\n    if (pollingInterval <= 0) return;\n\n    const interval = setInterval(() => {\n      fetchNotifications(0, false);\n    }, pollingInterval);\n\n    return () => clearInterval(interval);\n  }, [fetchNotifications, pollingInterval]);\n\n  const refresh = useCallback(async () => {\n    offsetRef.current = 0;\n    await fetchNotifications(0, false);\n  }, [fetchNotifications]);\n\n  const loadMore = useCallback(() => {\n    if (isLoadingMore || !hasMore) return;\n    setIsLoadingMore(true);\n    fetchNotifications(offsetRef.current, true).finally(() => {\n      if (mountedRef.current) setIsLoadingMore(false);\n    });\n  }, [fetchNotifications, hasMore, isLoadingMore]);\n\n  const markAsRead = useCallback(\n    async (id: string) => {\n      // Optimistic update\n      setNotifications((prev) =>\n        prev.map((n) =>\n          n.id === id ? { ...n, read_at: new Date().toISOString() } : n\n        )\n      );\n\n      try {\n        await apiFetch(`${basePath}/${encodeURIComponent(id)}/read`, {\n          method: 'POST',\n        });\n      } catch (err) {\n        // Revert on failure\n        setNotifications((prev) =>\n          prev.map((n) => (n.id === id ? { ...n, read_at: null } : n))\n        );\n        throw err;\n      }\n    },\n    [apiFetch, basePath]\n  );\n\n  const markAllAsRead = useCallback(async () => {\n    const now = new Date().toISOString();\n\n    // Optimistic update\n    setNotifications((prev) =>\n      prev.map((n) => (n.read_at ? n : { ...n, read_at: now }))\n    );\n\n    try {\n      await apiFetch<NotificaMarkAllReadResponse>(`${basePath}/read-all`, {\n        method: 'POST',\n      });\n    } catch (err) {\n      // Revert on failure — refresh from server\n      await refresh();\n      throw err;\n    }\n  }, [apiFetch, basePath, refresh]);\n\n  return {\n    notifications,\n    isLoading,\n    isLoadingMore,\n    error,\n    hasMore,\n    loadMore,\n    refresh,\n    markAsRead,\n    markAllAsRead,\n  };\n}\n","import { useCallback, useMemo } from 'react';\nimport type { NotificationItemProps } from '../types';\nimport { useNotifica } from '../hooks/use-notifica';\nimport { styles } from '../styles/default-theme';\n\n/**\n * Formats a timestamp to a human-friendly relative string.\n */\nfunction formatRelativeTime(\n  iso: string,\n  labels: ReturnType<typeof useNotifica>['labels']\n): string {\n  const now = Date.now();\n  const date = new Date(iso);\n  const diffMs = now - date.getTime();\n  const diffMin = Math.floor(diffMs / 60_000);\n  const diffHours = Math.floor(diffMs / 3_600_000);\n  const diffDays = Math.floor(diffMs / 86_400_000);\n\n  if (diffMin < 1) return labels.justNow;\n  if (diffMin < 60) return labels.minutesAgo(diffMin);\n  if (diffHours < 24) return labels.hoursAgo(diffHours);\n  if (diffDays === 1) return labels.yesterday;\n  if (diffDays < 30) return labels.daysAgo(diffDays);\n\n  // Fallback to date\n  return date.toLocaleDateString();\n}\n\n/**\n * A single notification row in the inbox list.\n */\nexport function NotificationItem({\n  notification,\n  onClick,\n}: NotificationItemProps): React.JSX.Element {\n  const { labels } = useNotifica();\n  const isUnread = notification.read_at === null;\n\n  const handleClick = useCallback(() => {\n    onClick?.(notification);\n  }, [onClick, notification]);\n\n  const handleKeyDown = useCallback(\n    (e: React.KeyboardEvent) => {\n      if (e.key === 'Enter' || e.key === ' ') {\n        e.preventDefault();\n        onClick?.(notification);\n      }\n    },\n    [onClick, notification]\n  );\n\n  const timeAgo = useMemo(\n    () => formatRelativeTime(notification.inserted_at, labels),\n    [notification.inserted_at, labels]\n  );\n\n  const itemStyle = useMemo(\n    () => ({\n      ...styles.item,\n      ...(isUnread ? styles.itemUnread : {}),\n    }),\n    [isUnread]\n  );\n\n  const titleStyle = useMemo(\n    () => ({\n      ...styles.itemTitle,\n      ...(isUnread ? styles.itemTitleUnread : {}),\n    }),\n    [isUnread]\n  );\n\n  return (\n    <li\n      role=\"option\"\n      aria-selected={false}\n      aria-label={`${notification.title}${isUnread ? ' (não lida)' : ''}`}\n      tabIndex={0}\n      style={itemStyle}\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      data-notifica-item=\"\"\n      data-notifica-unread={isUnread ? '' : undefined}\n    >\n      {/* Unread dot */}\n      {isUnread ? (\n        <span\n          style={styles.itemDot}\n          aria-hidden=\"true\"\n          data-notifica-dot=\"\"\n        />\n      ) : (\n        <span\n          style={styles.itemDotPlaceholder}\n          aria-hidden=\"true\"\n        />\n      )}\n\n      {/* Content */}\n      <div style={styles.itemContent}>\n        <p style={titleStyle}>{notification.title}</p>\n\n        {notification.body && (\n          <p style={styles.itemBody}>{notification.body}</p>\n        )}\n\n        <time\n          style={styles.itemTime}\n          dateTime={notification.inserted_at}\n          title={new Date(notification.inserted_at).toLocaleString()}\n        >\n          {timeAgo}\n        </time>\n      </div>\n    </li>\n  );\n}\n","import { useCallback } from 'react';\nimport type { NotificationListProps } from '../types';\nimport { useNotifica } from '../hooks/use-notifica';\nimport { NotificationItem } from './notification-item';\nimport { styles } from '../styles/default-theme';\n\n/**\n * Scrollable list of notification items with \"load more\" support.\n */\nexport function NotificationList({\n  notifications,\n  onNotificationClick,\n  onLoadMore,\n  hasMore,\n  isLoadingMore,\n}: NotificationListProps): React.JSX.Element {\n  const { labels } = useNotifica();\n\n  const handleLoadMore = useCallback(() => {\n    onLoadMore?.();\n  }, [onLoadMore]);\n\n  return (\n    <div data-notifica-list=\"\">\n      <ul\n        role=\"listbox\"\n        aria-label={labels.notifications}\n        style={styles.list}\n      >\n        {notifications.map((notification) => (\n          <NotificationItem\n            key={notification.id}\n            notification={notification}\n            onClick={onNotificationClick}\n          />\n        ))}\n      </ul>\n\n      {hasMore && (\n        <div style={styles.loadMoreWrapper}>\n          <button\n            type=\"button\"\n            style={styles.loadMoreButton}\n            onClick={handleLoadMore}\n            disabled={isLoadingMore}\n            aria-busy={isLoadingMore}\n            data-notifica-load-more=\"\"\n          >\n            {isLoadingMore ? '...' : labels.loadMore}\n          </button>\n        </div>\n      )}\n    </div>\n  );\n}\n","import { useCallback, useMemo } from 'react';\nimport type { NotificaInboxProps, NotificaNotification } from '../types';\nimport { useNotifica } from '../hooks/use-notifica';\nimport { useNotifications } from '../hooks/use-notifications';\nimport { NotificationList } from './notification-list';\nimport { styles } from '../styles/default-theme';\n\n// ── Skeleton loader ──────────────────────────────────\n\nfunction SkeletonItem(): React.JSX.Element {\n  return (\n    <div style={styles.skeleton} aria-hidden=\"true\">\n      <span style={styles.skeletonDot} />\n      <div style={styles.skeletonContent}>\n        <div style={styles.skeletonLine('70%')} />\n        <div style={styles.skeletonLine('90%')} />\n        <div style={styles.skeletonLine('40%')} />\n      </div>\n    </div>\n  );\n}\n\nfunction LoadingSkeleton(): React.JSX.Element {\n  return (\n    <div role=\"status\" aria-label=\"Carregando notificações...\">\n      <SkeletonItem />\n      <SkeletonItem />\n      <SkeletonItem />\n    </div>\n  );\n}\n\n// ── Empty state ──────────────────────────────────────\n\nfunction EmptyState(): React.JSX.Element {\n  const { labels } = useNotifica();\n\n  return (\n    <div style={styles.empty} data-notifica-empty=\"\">\n      {/* Bell icon placeholder */}\n      <svg\n        style={styles.emptyIcon}\n        viewBox=\"0 0 24 24\"\n        fill=\"none\"\n        stroke=\"currentColor\"\n        strokeWidth={1.5}\n        aria-hidden=\"true\"\n      >\n        <path\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n          d=\"M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0\"\n        />\n      </svg>\n      <p style={styles.emptyTitle}>{labels.emptyTitle}</p>\n      <p style={styles.emptyDescription}>{labels.emptyDescription}</p>\n    </div>\n  );\n}\n\n// ── Main Inbox ───────────────────────────────────────\n\n/**\n * Full inbox panel showing notification history with mark-as-read,\n * mark-all-as-read, infinite scroll, empty state, and loading skeleton.\n *\n * @example\n * ```tsx\n * <NotificaInbox\n *   maxHeight={400}\n *   onNotificationClick={(n) => router.push(n.action_url)}\n * />\n * ```\n */\nexport function NotificaInbox({\n  maxHeight,\n  className,\n  onNotificationClick,\n  pageSize = 20,\n  showHeader = true,\n}: NotificaInboxProps): React.JSX.Element {\n  const { labels } = useNotifica();\n  const {\n    notifications,\n    isLoading,\n    isLoadingMore,\n    hasMore,\n    loadMore,\n    markAsRead,\n    markAllAsRead,\n  } = useNotifications(pageSize);\n\n  const unreadCount = useMemo(\n    () => notifications.filter((n) => n.read_at === null).length,\n    [notifications]\n  );\n\n  const handleNotificationClick = useCallback(\n    async (notification: NotificaNotification) => {\n      if (notification.read_at === null) {\n        try {\n          await markAsRead(notification.id);\n        } catch {\n          // Swallow — optimistic update already applied\n        }\n      }\n      onNotificationClick?.(notification);\n    },\n    [markAsRead, onNotificationClick]\n  );\n\n  const handleMarkAllAsRead = useCallback(async () => {\n    try {\n      await markAllAsRead();\n    } catch {\n      // Swallow — optimistic update already applied\n    }\n  }, [markAllAsRead]);\n\n  const listStyle = useMemo(\n    () =>\n      maxHeight\n        ? { ...styles.list, maxHeight: `${maxHeight}px`, overflowY: 'auto' as const }\n        : styles.list,\n    [maxHeight]\n  );\n\n  return (\n    <div\n      className={className}\n      style={styles.inbox}\n      role=\"region\"\n      aria-label={labels.notifications}\n      data-notifica-inbox=\"\"\n    >\n      {/* Header */}\n      {showHeader && (\n        <div style={styles.inboxHeader} data-notifica-inbox-header=\"\">\n          <h2 style={styles.inboxTitle}>{labels.notifications}</h2>\n          {unreadCount > 0 && (\n            <button\n              type=\"button\"\n              style={styles.markAllButton}\n              onClick={handleMarkAllAsRead}\n              aria-label={labels.markAllAsRead}\n              data-notifica-mark-all=\"\"\n            >\n              {labels.markAllAsRead}\n            </button>\n          )}\n        </div>\n      )}\n\n      {/* Content */}\n      <div style={listStyle}>\n        {isLoading ? (\n          <LoadingSkeleton />\n        ) : notifications.length === 0 ? (\n          <EmptyState />\n        ) : (\n          <NotificationList\n            notifications={notifications}\n            onNotificationClick={handleNotificationClick}\n            onLoadMore={loadMore}\n            hasMore={hasMore}\n            isLoadingMore={isLoadingMore}\n          />\n        )}\n      </div>\n    </div>\n  );\n}\n","import { useCallback, useRef, useState } from 'react';\nimport type { NotificaBellProps } from '../types';\nimport { useUnreadCount } from '../hooks/use-unread-count';\nimport { useNotifica } from '../hooks/use-notifica';\nimport { Popover } from './popover';\nimport { NotificaInbox } from './inbox';\nimport { styles } from '../styles/default-theme';\n\n// ── Default bell SVG ─────────────────────────────────\n\nfunction BellSVG(): React.JSX.Element {\n  return (\n    <svg\n      style={styles.bellIcon}\n      viewBox=\"0 0 24 24\"\n      fill=\"none\"\n      stroke=\"currentColor\"\n      strokeWidth={2}\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      aria-hidden=\"true\"\n    >\n      <path d=\"M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9\" />\n      <path d=\"M13.73 21a2 2 0 0 1-3.46 0\" />\n    </svg>\n  );\n}\n\n// ── Badge ────────────────────────────────────────────\n\nfunction Badge({ count }: { count: number }): React.JSX.Element | null {\n  if (count <= 0) return null;\n\n  const display = count > 99 ? '99+' : String(count);\n\n  return (\n    <span\n      style={styles.badge}\n      aria-label={`${count} notificações não lidas`}\n      data-notifica-badge=\"\"\n    >\n      {display}\n    </span>\n  );\n}\n\n// ── NotificaBell ─────────────────────────────────────\n\n/**\n * Bell icon with unread count badge. Clicking opens a popover inbox.\n *\n * @example\n * ```tsx\n * <NotificaBell popoverPosition=\"bottom-right\" />\n * ```\n */\nexport function NotificaBell({\n  className,\n  renderIcon,\n  renderBadge,\n  popoverPosition = 'bottom-right',\n  inboxProps,\n}: NotificaBellProps): React.JSX.Element {\n  const { labels } = useNotifica();\n  const { count } = useUnreadCount();\n  const [isOpen, setIsOpen] = useState(false);\n  const buttonRef = useRef<HTMLButtonElement>(null);\n\n  const toggle = useCallback(() => {\n    setIsOpen((prev) => !prev);\n  }, []);\n\n  const close = useCallback(() => {\n    setIsOpen(false);\n  }, []);\n\n  return (\n    <div\n      className={className}\n      style={{ position: 'relative', display: 'inline-block' }}\n      data-notifica-bell=\"\"\n    >\n      <button\n        ref={buttonRef}\n        type=\"button\"\n        style={styles.bellButton}\n        onClick={toggle}\n        aria-label={`${labels.notifications}${count > 0 ? ` (${count} não lidas)` : ''}`}\n        aria-expanded={isOpen}\n        aria-haspopup=\"dialog\"\n        data-notifica-bell-button=\"\"\n      >\n        {renderIcon ? renderIcon(count) : <BellSVG />}\n        {renderBadge ? renderBadge(count) : <Badge count={count} />}\n      </button>\n\n      <Popover\n        isOpen={isOpen}\n        onClose={close}\n        anchorRef={buttonRef}\n        position={popoverPosition}\n      >\n        <NotificaInbox maxHeight={420} {...inboxProps} />\n      </Popover>\n    </div>\n  );\n}\n"]}